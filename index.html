<!DOCTYPE html>

<body>
  <table id="grid">
    <tr id="droppers">
      <th><button id="0">1</button></th>
      <th><button id="1">2</button></th>
      <th><button id="2">3</button></th>
      <th><button id="3">4</button></th>
      <th><button id="4">5</button></th>
      <th><button id="5">6</button></th>
      <th><button id="6">7</button></th>
    </tr>
  </table>
</body>

<!--
  Build the row
  Append the row

  For row in board
    rowelem = make row
    For elem in row
      rowelem.append(elem)

-->

<script>
  const grid = document.getElementById("grid");
  const e = "e"
  const d = "d"
  var board = [[e, e, e, e, e, e, e], [e, e, e, e, e, e, e], [e, e, e, e, e, e, e], [e, e, e, e, e, e, e], [e, e, e, e, e, e, e], [e, e, e, e, e, e, e],]

  drawBoard(board)

  function drawBoard(board) {
    while (grid.childElementCount > 1) {
      grid.removeChild(grid.lastChild);
    }

    board.forEach((row) => {
      let rowelem = document.createElement("tr");
      row.forEach((elem) => {
        let data = document.createElement("td");
        data.innerText = elem;
        rowelem.appendChild(data);
      })
      grid.appendChild(rowelem);
    })
  }

  function dropPiece(board, col) {
    var rev = board.reverse();
    for (var row of rev) {
      if (row[col] == e) {
        row[col] = d;
        return rev.reverse();
      }
    }
    return board;
  }

  drawBoard(dropPiece(board, 0))
</script>